# TODAY/Calendar UI刷新案

最終更新: 2025-09-25 by nakayama

## 目的
- PLAN/REVIEW の状態をひと目で把握できる視覚的手がかりを強化する。
- 推奨（提案）コンテンツを「アプリからの助言」として受け取りやすい演出に刷新する。
- 連続達成日数や気分の推移を、達成感と遊び心を伴って提示し、モチベーションを維持させる。
- "依存症を楽しんでなおす" というプロダクトトーンに合った、モダンで人間工学的なUIガイドラインを用意する。

## 現状課題の整理
- PLAN/REVIEW の切り替えがテキストと小さめのステップ表示のみで、視覚的な差が乏しい。
- 「提案」カードは本文と同じ階層で表示され、ユーザーが補助コンテンツと認識しづらい。
- 連続達成日数の表示が見出し下のテキスト一行のみで、達成感や自己効力感を喚起しにくい。
- Calendar の気分指標が `★` のみで表現されており、評価と気分のニュアンスが伝わりづらい。

## 改善方針
### 状態の視覚化（PLAN/REVIEW）
- 2つの状態に対してコントラストの高いテーマカラーを割り当て（例: PLAN=夜明けブルー、REVIEW=朝焼けオレンジ）。
- 状態切り替え時にタブ全体の背景グラデーションやカード枠色がアニメーションで遷移するよう設計。
- ヒーロー領域に「現在の状態」バッジを配置し、アイコン＋ラベル＋説明の3要素で伝える。
- ステップUIを横並びからカード化し、現在ステップを拡大表示させるトランジションを追加。

### 推奨カードの演出
- カードタイトルやアイコンを「Assistant」「リコメンド」など役割感のある表記に更新。
- 余白を増やし、カードを他要素より前面に配置。出現時にフェード＋スライドイン（0.3〜0.4秒程度）の動きを付与。
- 推奨理由（最近の傾向など）をサブテキストで表示し、選択でPLANに挿入される導線を強調。

### 連続達成表示の強化
- 画面上部にヒーローバナーを配置し、連続達成日数・現在の称号・次称号までの進捗をまとめて表示。
- バナー背景に柔らかいパーティクルやグラデーションを用いて「継続の高揚感」を演出。
- 連続更新時のアニメーション（数字カウントアップ＋バッジ発光）を検討。

### Calendar 気分指標の再設計
- ★ではなく丸形バッジやメーターゲージを採用し、気分スコアごとに色分け（例: 1=落ち着いたグレー、5=鮮やかなイエロー）。
- セル背景に淡いグラデーションを敷き、評価記号（◎/○/△/✕）とのコントラストを確保。
- レビュー未記録日はアウトライン表示にするなど、状態差を明確化。

### トーン＆マナー
- 夜時間の安らぎと勝利体験の両立を目指し、ダークベース+温かみのあるアクセントカラーで統一。
- モーションは「深呼吸のような緩さ」を意識し、急激な動きは避ける。
- テキストはNoto Sans JPのウェイト差を活かし、重要箇所は太字＋大きめサイズ、補足は小さめでコントラストを下げる。

## 実装メモ
- `frontend/stop-midnight-app/src/main.ts` の状態管理ロジックは維持しつつ、UI層をコンポーネント化する検討が必要。
- アニメーションはCSSカスタムプロパティで制御し、好みに応じてON/OFFできる設定余地を残す。
- Calendar の色分けはアクセシビリティを考慮し、コントラスト比 3:1 以上を目標とする。

## 確認したい事項
1. 連続達成バナーで表示したい文言やキャラクター性（フレンドリー/ストイック等）の方向性。
2. 推奨カードのロジック（将来的に実データを差し込む場合の優先度やフィルタ条件）。
3. アニメーション強度（苦手な利用者向けの軽減設定を備えるか）。

## 次アクション案
- ワイヤーフレーム（静止画）と簡易プロトタイプ（Figma等）の作成。
- 上記確認事項の合意を得たのち、スタイル実装タスクを分割して着手。
