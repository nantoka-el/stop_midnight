# 0035: TODAY画面UXリニューアル実装

Author: nakayama
Edited-By: nakayama 2025-09-26

- 概要: 0034で定義した新TODAY体験をフロントエンドへ実装し、夜のプラン入力を主役としたUI/挙動へ刷新する
- 受け入れ基準:
  - Stop Midnightヘッダーに現在時刻とありがてえ言葉を表示し、起動時にタイピング演出付きオープニングが再生される
  - プラン入力エリアがファーストビューで大きく表示され、チップ追加・長押し削除・Alt+クリック削除が可能
  - Settingsでありがてえ言葉を7.5行（最大60行）入力・保存でき、Firestoreへ同期される
  - カレンダーが月曜始まりで空セルを含めてレンダリングされ、ダブルタップズームが抑止されている
  - 既存のヒーロー/ステップ/ステータスピル/推奨カードが除去され、ゲーミフィケーション要素がフッタに移動している

## 完了した作業
- `src/main.ts` を全面改修し、TODAY/Settings/CalendarそれぞれのDOM構造とロジックを刷新。オープニング演出・日時表示・ランダムプレースホルダー・チップ長押し削除などを追加。
- `src/firestore.ts` `src/types.ts` を更新し、UserSettingsに `gratitudeMessages` を追加、60行制限で保存できるよう実装。
- `src/style.css` を調整して新ヘッダー/オーバーレイ/カレンダー曜日ヘッダ/空セル/チップヒントなどのスタイリングを整備。ビューポート固定とズーム抑止を適用。
- `index.html` の viewport 設定を更新し、モバイルでのダブルタップ拡大を防止。

---
Change Log
- 2025-09-26 nakayama: 作成
